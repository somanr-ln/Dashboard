<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:zul="http://www.zkoss.org/2005/zul">
  <head>
    <meta charset="utf-8" />
    <title>Dashboard</title>

    <!-- styles -->
    <link href="/Dashboard/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="/Dashboard/login.css" />
	
  </head>

  <body>
	<zscript>
    org.apache.commons.logging.LogFactory.getLog("Login page").error( 
			"Arg : " + Executions.getCurrent().getArg() +
			" Parameter Map : " + Executions.getCurrent().getParameterMap() +
			" Attributes : " + Executions.getCurrent().getAttributes() + 
			" User Principal: " +  Executions.getCurrent().getUserPrincipal() );
    </zscript>
	<div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
         <img src="/Dashboard/imgs/logo.png" alt="Lexis Nexis" class="logo"/>
        </div>
      </div>
    </div>
    <form method="POST" action="j_security_check">
    <div class="container">

        <div id="login-wraper">
            <zul:div
            	apply="org.hpccsystems.dashboard.controller.LoginController" 
            	class="login-form">
                <legend>Sign in to <span class="blue">Dashboard</span></legend>
	            
	            <div class="form-group">
				   <label for="apps">Application</label >
				   <zul:listbox sclass="form-control" id="apps" mold="select" width="200px" style="display:inline">
						<template name="model">
							<zul:listitem label="${each.appName}" value="${each.appId}" />
						</template>
					</zul:listbox> 
				 </div>
	            
	            <div class="form-group">
				   <label for="account">Username</label >
				   <zul:textbox type="text" sclass="form-control" id="account" name="j_username" style="display:inline"/> 
				 </div>
				 
				 <div class="form-group">
				   <label for="password">Password</label >
				   <zul:textbox type="password" class="form-control" id="password" name="j_password" style="display:inline"/>
				 </div>
                
                <div class="footer"> 
                	<zul:label id="message" sclass="warn" value=" "/>
                	<zscript ><![CDATA[
	                	if(Executions.getCurrent().getParameter("auth") != null && Executions.getCurrent().getParameter("auth").equals("failed"))
					        message.value = "Login failed. Provide valid credentials";
	                	]]></zscript>
                    <button type="submit" class="btn btn-success" value="Login"> Login </button>
                </div>
            
            </zul:div>
        </div>

    </div>
    </form>
    
    <footer class="white navbar-fixed-bottom">
      Don't have an account yet? <a href="#" class="btn btn-black">Register</a>
    </footer>
  </body>
</html>
